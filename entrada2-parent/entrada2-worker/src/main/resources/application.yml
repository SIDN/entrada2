entrada:
  mode: 'worker'
  parquet:
   file:
     max-size: 256
  worker:
    sleep: 10
  schedule:
    updater: 1
  security:
    token:
      admin: '94591089610224297274859827590711'
      user: '58142669728959819749433125069815'
  privacy:
    enabled: true
  
server:
 port: 8090
 servlet:
   contextPath: '/api/v1'

spring:
 application: 
   name: 'entrada-worker-service'
 flyway:
   enabled: false
 cloud:
   kubernetes:
     reload:
       enabled: true
   openfeign:
     client:
       config:
         default:
           connectTimeout: 5000
           readTimeout: 5000
           loggerLevel: basic
         workerClient:
           url: 'http://client4.sidnlabs.nl:8091/api/v1/work'
           defaultRequestHeaders:
             'X-API-KEY': '${entrada.security.token.user}'
           dismiss404: true
         maxmindClient:
           url: 'https://download.maxmind.com/app/geoip_download?suffix=tar.gz'
           dismiss404: false

 autoconfigure:
   exclude: 'org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration,org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration,org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration'
   

#logging:
#  level:
#    root: DEBUG
   
logging:
  level:
    nl.sidn.entrada2.worker.client: DEBUG
 
iceberg:
  catalog:
    url: 'http://localhost:8182'
  bucket: 'testbucket1'
  warehouse_dir: 'warehouse'
  endpoint: 'http://localhost:9000'
  access_key: 'minio666'
  secret_key: 'minio666'
  compression: 'snappy'  

 
 
aws:
  accesskey: DrDd94eGYZBeFpukUsSW
  secretkey: tHKvt6ew3m0s0X0nYUsPGQtE5GFst7Sihxn8ZZJ7
  region: eu-west-1
  endpoint: 'http://localhost:9000'
  bucket: testbucket1
  directory:
    pcap: 'pcap'
    reference: 'reference'


#########################
#        Resolvers      #
#########################

# max size of the "IP address to resolver" match cache
# keep cache because checking IP address is expensive
# but must make sure not to use a giant cache and get out-of-memory error
resolver:
  match:
    cache:
      size: 10000
  google:
    hostname: 'locations.publicdns.goog.'
    timeout: 15
  opendns:
    url: 'https://umbrella.cisco.com/why-umbrella/global-network-and-traffic'
    timeout: 15
  cloudflare:
    url:
      v4: 'https://www.cloudflare.com/ips-v4'
      v6: 'https://www.cloudflare.com/ips-v6'
      timeout: 15
     

  
#########################
#      MaxMind GeoIP    #
#########################
maxmind:
 max-age: 24
 license:
   free: ''
   paid: ''
 country:
   free: 'GeoLite2-Country'
   paid: 'GeoIP2-Country'
 asn:
   free: 'GeoLite2-ASN'
   paid: 'GeoIP2-ISP'
     

flyway:
   enabled: false
     

management:
  graphite:
    metrics:
      export:
        enabled: false
        host: ''
        port: 2003
        protocol: 'Plaintext'
        step: '1m'
        tags-as-prefix: 'prefix'
        prefix: 'entrada' 
  endpoints:
    web:
      base-path: '/api/v1/manager' 
#      exposure:
#        include: '*'